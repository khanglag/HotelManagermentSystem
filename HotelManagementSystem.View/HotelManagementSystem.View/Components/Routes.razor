@* <Router AppAssembly="typeof(Program).Assembly" AdditionalAssemblies="new[] { typeof(Client._Imports).Assembly }" NotFoundPage="typeof(Pages.NotFound)">
    <Found Context="routeData">
        <RouteView RouteData="routeData" DefaultLayout="typeof(Layout.MainLayout)" />
        <FocusOnNavigate RouteData="routeData" Selector="h1" />
    </Found>
</Router> *@
<CascadingAuthenticationState>
    <Router AppAssembly="@typeof(Program).Assembly">
        <Found Context="routeData">
            @* Sử dụng RouteView thay vì AuthorizeRouteView cho các trang mặc định *@
            @* Chỉ những trang có [Authorize] mới bị quản lý bởi logic bên trong *@
            <AuthorizeRouteView RouteData="@routeData" DefaultLayout="@typeof(Layout.MainLayout)">
                <Authorizing>
                    @* Chỉ hiện cái này khi đang truy cập trang có [Authorize] *@
                    <div class="text-center mt-5">
                        <div class="spinner-border text-primary"></div>
                        <p>Đang xác thực, vui lòng đợi...</p>
                    </div>
                </Authorizing>
                <NotAuthorized>
                    @* Nếu vào trang cấm mà chưa login, đẩy về login *@
                    <RedirectToLogin />
                </NotAuthorized>
            </AuthorizeRouteView>
            <FocusOnNavigate RouteData="@routeData" Selector="h1" />
        </Found>
        @* ... NotFound ... *@
    </Router>
</CascadingAuthenticationState>